<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
    var len = 5;
    var fn = function (){
        console.log(this/*.len*/);
    }

    var main = {
        fn : function (fn){

            fn(); // fn是获取的就是全局fn函数。那么在这里执行fn函数中的this是window。打印的就是window.len => 5
            arguments[0](); //

        },
        len : 10
    };

    main.fn(fn);
    function fn1(){
        console.log(thi);  // ary
    }
    function fn2(){}
    function fn3(){}
    function fn4(){}
    var ary = [fn1,fn2,fn3,fn4];
    ary[0]();

/////////////////////////////////////////////////////////////////////////////////////////////
    var num = 5;
    var obj = {
        num : 4,
        fn : (function (num){

            num++;
            this.num++;
            var num = 2;
            return function (){
                num++;
                this.num++;
                console.log(num);
            }
        })()
    }

    var fn = obj.fn;
    fn();
    obj.fn();
    console.log(this.num,obj.num);
//
//
//    //////////////////////////////////////////////////////////////////////////////////////

    var num = 1;
    var obj = {num : 2};
    obj.fn = (function (num){
        // var num = 0;
        this.num += 2;
        num--;
        return function (n){
            this.num += 2;
            num--;
            console.log(n + ++num);
        }
    })(this.num);
    var fn = obj.fn;
    fn(1);
    obj.fn(2);
    console.log(num,obj.num);

//    ///////////////////////////////////////////////////////////////////////////////////////
    var num = 20;
    var obj = {
        num: 30,
        fn: (function (num) {
            this.num *= 3;
            num += 15;
            var num = 45;
            return function () {
                this.num *= 4;
                num += 20;
                console.log(num);
            }
        })(num)
    };
    var fn = obj.fn;
    fn();
    obj.fn();
    console.log(window.num, obj.num);
</script>
</body>
</html>